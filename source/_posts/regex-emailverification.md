---
title: 正则表达式实例-邮箱有效性验证
date: 2018-06-19 12:16:02
tags:
    - tutorials
---

# 定义
>正则表达式（Regular Expression，在代码中常简写为regex、regexp或RE），又称**正规表示式、正规表示法、正规表达式、规则表达式、常规表示法**，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些匹配某个模式的文本。

在我的小程序「QR二维码」中的反馈系统就用到了正则表达式来验证邮箱的有效性。
首先贴上代码：

```
^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$
```

# 满足验证的逻辑条件
通常，邮箱是由`用户名+@+域名`这样的形式构成,所以应该满足以下几个条件：
1. @之前的字符串由大小写字母、数字构成
2. @和最后一个点(.)之间由大小写字母、数字构成，且不能为空
3. 最后一个点(.)之后必须有内容，且大于2个字符

满足以上条件才能通过邮箱的验证。



在正则表达式中，有很多语法和特殊字符，就这条用到的语句，我总结了其中的特殊字符：

字符 | 描述
:-:|:-:
^ | 匹配输入字符串的起始位置
$ | 匹配输入字符串的结束位置
? | 匹配前面的子表达式零次或者一次
&#124; | 表示 或
{m,n} | m、n均为非负整数，m<=n，最少匹配m次，最多匹配n次


这里推荐一个 正则表达式 的教程： [正则表达式-菜鸟教程](http://www.runoob.com/regexp/regexp-tutorial.html)



# 实例
用小程序上的一段代码：
```js
formBindsubmit: function(e){
    var strEmail = e.detail.value.email;
    var pattern = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
    var strEmail = pattern.test(strEmail);
    if(strEmail){
        ...
    }else{
        ...
    }
}
```
监听表格提交的按钮事件，用这个表达式来检测用户输入的Email是否合法。
![](https://images.gxuann.cn/archives/regex-emailverification1.gif)
<br>
&&
end